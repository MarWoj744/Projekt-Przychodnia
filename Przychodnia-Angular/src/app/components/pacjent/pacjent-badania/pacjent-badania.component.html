<section class="content">
  <h2>Wykonane badania</h2>

  <div *ngIf="loading" class="info">Ładuję dane…</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <ng-container *ngIf="!loading && !error">
    <div *ngIf="badania.length === 0" class="muted">
      Brak wykonanych badań.
    </div>

    <table *ngIf="badania.length > 0" class="table">
      <thead>
        <tr>
          <th>Data</th>
          <th>Wyniki</th>
          <th>Zalecenia</th>
          <th style="width: 1%;">Akcje</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let b of badania">
          <td>{{ b.data | date:'dd.MM.yyyy HH:mm' }}</td>
          <td>{{ b.wyniki }}</td>
          <td>{{ b.zalecenia || '—' }}</td>
          <td>
            <button type="button" (click)="pobierzPdf(b)">
              Pobierz PDF
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </ng-container>
</section>
